<button type="button" mat-stroked-button (click)="countUsers()">
    <span *ngIf="!stats">{{ 'Count logged-in users' | translate }}</span>
    <span *ngIf="stats">{{ 'Re-count logged-in users' | translate }}</span>
</button>
<div *ngIf="stats">
    <i>{{ 'last updated' | translate }}: {{ lastUpdated / 1000 | localizedDate : 'PPpp' }}</i>
    <p>
        {{ userIds().length }} {{ 'logged-in users' | translate }} ({{ stats.activeUserHandles }}
        {{ 'connections' | translate }})
    </p>
    {{ 'Groups' | translate }}:
    <ul>
        <li *ngFor="let groupId of groupIds()">
            <strong>{{ stats.groups[groupId].name | translate }}:</strong>
            {{ userInGroupIds(groupId).length }} {{ 'logged-in users' | translate }} ({{
                stats.groups[groupId].userHandleCount
            }}
            {{ 'connections' | translate }})
        </li>
    </ul>
</div>
