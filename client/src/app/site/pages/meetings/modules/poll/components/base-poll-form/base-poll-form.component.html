<div class="os-form-card-mobile">
    <!-- Poll Title -->
    <form [formGroup]="contentForm">
        <mat-form-field>
            <mat-label>{{ 'Title' | translate }}</mat-label>
            <h2 class="poll-preview-title">
                <input formControlName="title" matInput required />
            </h2>
        </mat-form-field>
    </form>

    <form class="poll-preview-meta-info-form" [formGroup]="contentForm">
        @if (!data || !data.state || data.isCreated) {
            <div class="info-grid">
                <!-- Poll Type -->
                @if (isEVotingEnabled && !hideSelects.type) {
                    <mat-form-field>
                        <mat-label>{{ PollPropertyVerbose.type | translate }}</mat-label>
                        <mat-select formControlName="type" required>
                            @for (option of pollTypes | keyvalue; track option) {
                                <mat-option [value]="option.key">
                                    {{ option.value | translate }}
                                </mat-option>
                            }
                        </mat-select>
                        @if (showNonNominalWarning) {
                            <mat-icon color="primary" matSuffix (click)="openVotingWarning($event)">info</mat-icon>
                        }
                        <mat-error>{{ 'This field is required.' | translate }}</mat-error>
                    </mat-form-field>
                }

                <!-- Groups entitled to Vote -->
                @if (isEVotingSelected && !hideSelects.entitledGroups) {
                    <mat-form-field>
                        <mat-label>{{ PollPropertyVerbose.groups | translate }}</mat-label>
                        <os-repo-search-selector
                            formControlName="entitled_group_ids"
                            [multiple]="true"
                            [pipeFn]="groupRepo.getFilterSystemGroupFn()"
                            [repo]="groupRepo"
                            [showChips]="false"
                            [sortFn]="sortFn"
                        ></os-repo-search-selector>
                    </mat-form-field>
                }
            </div>

            <div class="margin-bottom-15">
                <!-- Live voting -->
                @if (isLiveVotingAvailable) {
                    <mat-checkbox formControlName="live_voting_enabled">
                        {{ PollPropertyVerbose.live_voting_enabled | translate }}
                    </mat-checkbox>
                    <mat-hint>
                        {{ 'Allows single votes projection during voting process' | translate }}
                    </mat-hint>
                }
            </div>
        }
    </form>

     <ng-content select="poll-config"></ng-content>

     <ng-content select="poll-options"></ng-content>
</div>
