<mat-toolbar class="global-headbar background-headbar">
    <div class="one-line display-name">
        <span>{{ displayName }}</span>
    </div>
    <div class="spacer"></div>
    <div class="flex-center">
        <!-- Button to open the global search -->
        @if (isSearchEnabled) {
            <button mat-icon-button (click)="openSearch()">
                <mat-icon>search</mat-icon>
            </button>
        }
        <!-- Button to view the own account -->
        <os-account-button></os-account-button>
        @if (showLongpollingIcon) {
            <div class="fake-fab-button flex-center">
                <div class="longpolling-adjust-icon">
                    <mat-icon color="white" matTooltip="Fallback Mode">sync_problem</mat-icon>
                </div>
            </div>
        }
    </div>
</mat-toolbar>

<ng-template [cdkPortalOutlet]="headbarService.headbar" />

@if (headbarService.additionalHeadbar) {
    <ng-template [cdkPortalOutlet]="headbarService.additionalHeadbar" />
}
