<div class="editor">
    <div *ngIf="editorReady" class="editor-menu">
        <div class="line">
            <div class="button-group">
                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive('heading') }"
                    (click)="editor.chain().focus().toggleHeading({ level: selectedHeadingLevel }).run()"
                >
                    Heading {{ selectedHeadingLevel }}
                </button>

                <button mat-ripple [matMenuTriggerFor]="headingMenu">
                    <mat-icon>arrow_drop_down</mat-icon>
                </button>
            </div>

            <mat-menu #headingMenu="matMenu">
                <button
                    mat-menu-item
                    [ngClass]="{ active: editor.isActive('heading', { level: 1 }) }"
                    (click)="editor.chain().focus().toggleHeading({ level: 1 }).run()"
                >
                    Heading 1
                </button>

                <button
                    mat-menu-item
                    [ngClass]="{ active: editor.isActive('heading', { level: 2 }) }"
                    (click)="editor.chain().focus().toggleHeading({ level: 2 }).run()"
                >
                    Heading 2
                </button>

                <button
                    mat-menu-item
                    [ngClass]="{ active: editor.isActive('heading', { level: 3 }) }"
                    (click)="editor.chain().focus().toggleHeading({ level: 3 }).run()"
                >
                    Heading 3
                </button>

                <button
                    mat-menu-item
                    [ngClass]="{ active: editor.isActive('heading', { level: 4 }) }"
                    (click)="editor.chain().focus().toggleHeading({ level: 4 }).run()"
                >
                    Heading 4
                </button>

                <button
                    mat-menu-item
                    [ngClass]="{ active: editor.isActive('heading', { level: 5 }) }"
                    (click)="editor.chain().focus().toggleHeading({ level: 5 }).run()"
                >
                    Heading 5
                </button>

                <button
                    mat-menu-item
                    [ngClass]="{ active: editor.isActive('heading', { level: 6 }) }"
                    (click)="editor.chain().focus().toggleHeading({ level: 6 }).run()"
                >
                    Heading 6
                </button>
            </mat-menu>

            <button
                mat-ripple
                [ngClass]="{ active: editor.isActive('blockquote') }"
                (click)="editor.chain().focus().toggleBlockquote().run()"
            >
                <mat-icon>format_quote</mat-icon>
            </button>

            <div class="button-group">
                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive({ textAlign: 'left' }) }"
                    (click)="editor.chain().focus().setTextAlign('left').run()"
                >
                    <mat-icon>format_align_left</mat-icon>
                </button>

                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive({ textAlign: 'center' }) }"
                    (click)="editor.chain().focus().setTextAlign('center').run()"
                >
                    <mat-icon>format_align_center</mat-icon>
                </button>

                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive({ textAlign: 'right' }) }"
                    (click)="editor.chain().focus().setTextAlign('right').run()"
                >
                    <mat-icon>format_align_right</mat-icon>
                </button>

                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive({ textAlign: 'justify' }) }"
                    (click)="editor.chain().focus().setTextAlign('justify').run()"
                >
                    <mat-icon>format_align_justify</mat-icon>
                </button>
            </div>

            <div class="button-group">
                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive('bulletList') }"
                    (click)="editor.chain().focus().toggleBulletList().run()"
                >
                    <mat-icon>format_list_bulleted</mat-icon>
                </button>
                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive('orderedList') }"
                    (click)="editor.chain().focus().toggleOrderedList().run()"
                >
                    <mat-icon>format_list_numbered</mat-icon>
                </button>
            </div>
        </div>

        <div class="line">
            <div class="button-group">
                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive('bold') }"
                    (click)="editor.chain().focus().toggleBold().run()"
                >
                    <mat-icon>format_bold</mat-icon>
                </button>
                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive('italic') }"
                    (click)="editor.chain().focus().toggleItalic().run()"
                >
                    <mat-icon>format_italic</mat-icon>
                </button>
                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive('underline') }"
                    (click)="editor.chain().focus().toggleUnderline().run()"
                >
                    <mat-icon>format_underline</mat-icon>
                </button>
                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive('strike') }"
                    (click)="editor.chain().focus().toggleStrike().run()"
                >
                    <mat-icon>format_strikethrough</mat-icon>
                </button>
            </div>

            <div class="button-group">
                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive('superscript') }"
                    (click)="editor.chain().focus().toggleSuperscript().run()"
                >
                    <mat-icon>superscript</mat-icon>
                </button>
                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive('subscript') }"
                    (click)="editor.chain().focus().toggleSubscript().run()"
                >
                    <mat-icon>subscript</mat-icon>
                </button>
            </div>

            <button mat-ripple class="color-selection" [ngStyle]="{ color: editor.getAttributes('textStyle')['color'] }">
                <mat-icon>format_color_text</mat-icon>
                <input
                    [value]="editor.getAttributes('textStyle')['color']"
                    (change)="updateFontColor($event)"
                    type="color"
                />
            </button>
            <div class="button-group">
                <button
                    mat-ripple
                    [ngClass]="{ active: editor.isActive('highlight') }"
                    (click)="editor.chain().focus().toggleHighlight().run()"
                >
                    <mat-icon>format_color_fill</mat-icon>
                </button>
                <button mat-ripple class="color-selection">
                    <mat-icon>arrow_drop_down</mat-icon>
                    <input
                        [value]="editor.getAttributes('highlight')['color']"
                        (change)="updateHighlightColor($event)"
                        type="color"
                    />
                </button>
            </div>
            <button mat-ripple (click)="clearSelectedFormat()">
                <mat-icon>format_clear</mat-icon>
            </button>

            <button mat-ripple [ngClass]="{ active: editor.isActive('link') }" (click)="setLinkDialog()">
                <mat-icon>link</mat-icon>
            </button>

            <button mat-ripple [ngClass]="{ active: editor.isActive('image') }" (click)="setImageDialog()">
                <mat-icon>image</mat-icon>
            </button>

            <button mat-ripple (click)="editCode()">
                <mat-icon>code</mat-icon>
            </button>
        </div>
    </div>
    <div #editorEl class="editor-content"></div>
</div>
